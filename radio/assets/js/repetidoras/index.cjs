function resolverCaminhos(o,r=""){const e=""!==r.trim()||commom.isFile(o);o=o.replace(/^s*[\/\\]+/,""),o=e?commom.joinPath(o,`/uf/${r}/`):o;const t=commom.joinPath(META,o).replace(".json","");return{json:`${t}${e?"":"."}${r}.json`,base:t,estado:r}}async function carregarDados(o,r){let e;return e=await commom.getItemLocalStorage(r,async()=>{for(const r of Array.isArray(o)?o:[o])try{const o=await commom._GET(r);if(commom.V_RETURN(o)&&(isNODE||o&&"object"==typeof o))return o}catch(o){console.log(o);continue}throw new Error("Não foi possível carregar nenhum arquivo")}),e}async function salvarDados(o,r,e="",t="json"){if(t=String(t||"json").trim().toLowerCase(),!["json","csv"].includes(t))throw new Error(`Formato '${t}' não suportado. Use 'json' ou 'csv'.`);const n="string"==typeof r?r:r&&r.json||"",s=o=>o?o.replace(/[\/\\]+$/,""):o,i=o=>{if(!Array.isArray(o)||0===o.length)return"";const r=new Set;o.forEach(o=>{o&&"object"==typeof o&&(Object.keys(o).forEach(o=>r.add(o)),o.info&&"object"==typeof o.info&&Object.keys(o.info).forEach(o=>r.add(`info.${o}`)))});const e=Array.from(r),t=[e.join(";")];return o.forEach(o=>{const r=e.map(r=>{let e;if(r.startsWith("info.")){const t=r.slice(5);e=o.info?o.info[t]:""}else e=o[r];if(Array.isArray(e))return`"${e.join(",")}"`;if(null==e)return"";if("object"==typeof e)return`"${JSON.stringify(e).replace(/"/g,'""')}"`;let t=String(e);return(t.includes(";")||t.includes('"'))&&(t=`"${t.replace(/"/g,'""')}"`),t});t.push(r.join(";"))}),t.join("\n")},a=o=>{const r=s(o);try{if(commom&&"function"==typeof commom.isFile&&commom.isFile(r))return!0}catch(o){}return!!(o=>!!path.extname(o))(r)},c=((o,r)=>{const e=s(o||""),t=(o=>"csv"===o?".csv":".json")(r);if(!e)return`dados${t}`;if(a(e)){const o=(n=e,path.extname(n).toLowerCase()||"");return o?o!==t?((o,r)=>{const e=path.extname(o);return e?o.slice(0,-e.length)+r:o+r})(e,t):e:e+t}return path.join(e,`dados${t}`);var n})(n,t),d=((o,r)=>{if("string"==typeof o){const e=o;if("json"===r)return e;{const o=e.trim();if(o.startsWith("{")||o.startsWith("["))try{const o=JSON.parse(e),r=Array.isArray(o)?o:[o];return i(r)}catch(o){return e}return e}}if(Array.isArray(o)||"object"==typeof o){if("json"===r)return JSON.stringify(o,null,0);{const r=Array.isArray(o)?o:[o];return i(r)}}throw new Error("Tipo de 'registros' inválido. Deve ser string, object ou array.")})(o,t);return isNODE?((o,r)=>{const e=path.dirname(o);return fs.existsSync(e)||fs.mkdirSync(e,{recursive:!0}),fs.writeFileSync(o,r),o})(c,d):((o,r,e)=>{const t=new Blob([r],{type:"json"===e?"application/json":"text/csv"}),n=URL.createObjectURL(t),s=document.createElement("a");return s.href=n,s.download=o.split("/").pop(),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),o})(c,d,t)}const isNODE="undefined"==typeof window,fs=isNODE?require("fs"):null,path=isNODE?require("path"):null,commom=isNODE?require("../../../../@assets/js/common.main.cjs"):"undefined"!=typeof window?window.commom:globalThis.commom,radioidnet=isNODE?require("./sources/radioid.net.main.cjs"):"undefined"!=typeof window?window.commom:globalThis.commom,csvMODELOS=isNODE?require("./modelos/rt4d.main.cjs"):"undefined"!=typeof window?window.radioModels:globalThis.radioModels,ROOT=isNODE?process.cwd().split("/radio/")[0]:"",META=(o=>isNODE?path.resolve(o):o.replace(/\\/,"/"))(`${ROOT}/radio/repetidoras/meta`);isNODE?radioidnet.processarJSON(resolverCaminhos,carregarDados,(o,r,e,t)=>{salvarDados(o,r,e,t),salvarDados(csvMODELOS.converterParaModelo(o),r,e,"csv")},(o,r)=>{salvarDados(r.contents,`${META}/radioidnet.csv`)}):"loading"===document.readyState?document.addEventListener("DOMContentLoaded",criarInterfaceNavegador):criarInterfaceNavegador();