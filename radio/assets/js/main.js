const _=t=>document.querySelector(t);document.addEventListener("DOMContentLoaded",()=>{const t=`${window.location.search}`.split("radio/").pop().split("?").pop().replace(/[^a-z0-9\/]/i,"").trim().split("/"),e='\n\n<br /><br /><p>Consulte o <a href="/radio/?sumario0">Sum√°rio</a> para lista de r√°dios.</p>',o=t[0].trim(),i=_(".lds"),r=_(".dl"),n=t=>[t,"Dados de registro incorretos","O arquivo do registro existe, mas a formata√ß√£o est√° incorreta, impedindo a exibi√ß√£o."],a=(t,o=0)=>[t,"Par√¢metro inexistente"+(o?" ou inv√°lido":""),`A URL deve terminar com <span class="url">"/?<b>XXX</b>"</span>, onde "XXX" √© o n¬∫ do peticionamento, despacho ou homologa√ß√£o Anatel sem pontua√ß√£o. ${e}`],s=t=>[t,"Sum√°rio mal formatado","O sum√°rio existe, mas possui uma formata√ß√£o incompat√≠vel para exibi√ß√£o."],l=(t,e=0)=>(e&&(t.innerHTML=e),t.innerHTML.trim()),d=_(".desc"),c=t=>t.replace(/(<([^>]+)>)/gi,""),m=t=>{l(_("#ttl"),t),document.title=c(t)},p=()=>{_(".container").style.display="block",window.setTimeout(()=>{r.classList.add("loaded"),i.style.display="none"},50)},u=(t,e="span")=>/^\s*<[\w]+/i.test(t)?t:`<${e}>${t}</${e}>`,f=(t,e,o,i)=>{const r=`\n\n${o}`,n=`‚ö†Ô∏è ${e}${h(t)}`;if(""===l(_("#ttl"))&&(m(n),p()),l(d,r),void 0===i||1===i||!0===i)throw new Error(c(`${e}${r}`))},h=t=>t?`<sup>${`${t}`.toUpperCase()}</sup>`:"",b=t=>"string"==typeof t,g=t=>Object.keys(t),v=(t,e)=>Object.hasOwn(t,e),C=t=>Array.isArray(t),w=(t,e,o="",i="")=>{const r=document.createElement(e);return r.className=o,l(r,i),t&&t.appendChild(r),r};if(/([^a-z0-9])/i.test(o))return f(...a("1T"));const D=t.length>=2?`${t[1]}`.trim().toLowerCase():0,L=t=>/^\s?(http|ftp)s?:\/\//.test(t),j=(t,e=0)=>{if(e&&b(t)&&L(t))return t.trim();if(!C(t))return e?0:t;if(0===t.length)return"";if(b(t[0])){const o=L(t[0])?0:L(t[1])?1:-1,i=`${t[o]}`.trim();if(e)return i;return`<a href="${i}" target="_blank">${t[0===o?1:0]}</a>`}return C(t[0])?e?t.map(t=>j(t,e)):"<ul>"+t.map(t=>j(t,0)).map(t=>`<li>${t}</li>`).join("")+"</ul>":""},y={id:"Peticionamento ou Processo",tp:"Tipo de processo",dp:"Data da Peti√ß√£o",mc:"Marca",md:"Modelo",fccid:"FCC ID",sn:"N√∫mero de S√©rie",r:"Homologa√ß√£o<sup>1</sup>",v:"Valida√ß√£o da Homologa√ß√£o<sup>1</sup>",dt:"Data de Homologa√ß√£o",cid:"C√≥digo de Identifica√ß√£o"},A={...y},M="\n\n<p>Apenas os destinos abaixo podem ser usados, <b>mas</b> note que a maioria n√£o conter√° URL:</p><ul class='pr'>"+Object.entries(A).map(([t,e])=>`<li><b>${t}:</b> ${e}</li>`).join("")+`</ul>${e}`,x={imp:"Certifica√ß√£o de Produto: Declara√ß√£o de Conformidade - Importado uso pr√≥prio"},I=t=>`${t}`.replace(/\$\{([\w\d]+)\}/g,(t,e)=>{const o=e.trim().toLowerCase(),i=null!=x&&v(x,o)?x[o]:null;return null===i?"???":`${i}`}),P=(t,e=void 0)=>I("v"===e?(t=>b(t)&&t.trim().length>0?t:C(t)&&2===t.length?`C√≥digo: ${t[0]}<br />CRC: ${t[1]}`:"")(t):j(t)),S=(t,e)=>{const o=w(0,"div","dl-row");w(o,"div","dt",null===t?"--":u(t)),w(o,"div","dd",null===t?"Item mal formatado":e&&e.trim().length>0?u(e):"---"),r.appendChild(o)},T=["Peticionamento","Marca / Modelo","ID"];if(t){const e=`db/${o}.json?t=`+Math.random().toString(36).substring(2,18);fetch(e).then(t=>t.ok?t.json():f(...a("AX",1))).then(e=>{if(/sumario[\d]+/i.test(o.toLowerCase()))return(t=>{if(!Array.isArray(t))return f(...s("S1"));const e=(_(".dl table")||_(".dl").insertAdjacentHTML("beforeend",'<div class="tbl x"><table cellsspacing="0" border="0" cellpadding="0"></table></div>'),_(".dl table")),o=(t,o=0)=>{const i=w(0,"tr","");for(const e in t){const r=t[e].split(";").map(t=>1==e?`<i>${t}</i> `:t).join("");w(i,"td","",u(`${r}${0!=e||o?"":u("üîó")}`,"p"))}i.addEventListener("click",e=>{try{window.location="../radio/?"+t[0].replace(/[^a-z0-9]/i,"")}catch(t){}}),e.appendChild(i)};for(o(T,1),k=0;k<t.length;k++){const e=t[k];if(k===t.length-1&&isFinite(e)&&!isNaN(e))_(".dl").insertAdjacentHTML("beforeend",`<p class="center">\n\t\t\t\t\t\t\t\t\t${e>=2?`<a href="?sumario${e-2}">¬´ Anterior</a>`:""}\n\t\t\t\t\t\t\t\t${e<0?"":`<a href="?sumario${e}">Pr√≥ximo ¬ª</a>`}\n\t\t\t\t\t\t\t\t</p>`);else if(!Array.isArray(e)||e.length!==T.length)return f(...s("S2"));o(e)}m("Sum√°rio"),p()})(e);for(const t of g(y))if(!v(e,t))return f(...n(`:${t}`));if(!v(e,"items")||!C(e.items))return f(...n("ITM1"));if(t.length>=2){if(!v(A,D))return f("D1",`Destino "${D}" inv√°lido`,`Destino n√£o √© permitido.${M}`,1);if(!v(e,D))return f("D2",`Destino "${D}" inexistente`,`Vari√°vel n√£o definida no registro.${M}`,1);const o=t.length>2?parseInt(`${t[2]}`):0,i=j(!isNaN(o)&&o<e[D].length&&C(e[D][o])?e[D][o]:e[D],1);return i?(m("Redirecionando..."),void(window.location=i)):f("D3",`Destino "${D}" inv√°lido`,`Vari√°vel de destino n√£o √© uma URL v√°lida ou existente.${M}`,1)}m(`<small>${i=e.mc,i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()||""}</small> ${e.md}`);for(const t of[...g(A),...e.items,["Solicitante",`<ul>${Object.entries(["PU2YQC","jeancarlo@jeancarloem.com","33*.***.**8-95",7246538]).map(([t,e])=>`<li>${["Esta√ß√£o","E-mail","CPF","DMR ID"][t]}: <b>${e}</b></li>`).join("")}</ul>`]]){const o=C(t)?t:[A[t]||null,e[t]];if(S(I(o[0]),P(o[1],t)),!o[0])return f(n("ITM2"))}var i;p()}).catch(t=>{console.error(e,"\n",t),f(...a("BX"))})}else f(...a("CX"))});