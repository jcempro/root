<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1"
		/>
		<meta name="robots" content="noindex" />
		<title>Redirecting...</title>

		<script>
			(async (L, w) => {
				/* normalização de URLs (ou canonicalização), que reduz diferentes representações equivalentes a uma forma única e estável.
				 * A ideia é tratar URLs como equivalentes quando só variam em detalhes irrelevantes (ex: http ↔ https, / no final, #, etc.).
				 */
				const normUrl = (u) => {
					const x = new URL(u, L.origin);
					let p = x.pathname.replace(/\/+$/, '') || '/';
					const s = /^(https?|wss?)$/.test(
						x.protocol.replace(':', ''),
					);
					return (
						(s ? '' : x.protocol + '//') +
						x.hostname.toLowerCase() +
						(x.port && !/^(80|443)$/.test(x.port)
							? ':' + x.port
							: '') +
						p +
						(x.search || '')
					);
				};

				const isInt = (v) =>
					Number.isInteger(v) ||
					(typeof v === 'string' && /^[+-]?\d+$/.test(v));

				const GO = async (t, flbk) => {
					const p = (L.pathname + L.search).replace(
						/^\/\s*404\.html(\/|\?)/gi,
						'/',
					);
					if (/\/[^/]*\.[^/]*$/.test(p)) throw 4;
					try {
						const r = await fetch(
							p.replace(/\/?$/, '/') + 'index.json',
						);
						if (!r.ok) throw 1;
						const j = await r.json().catch(() => {
							throw 2;
						});
						const u = j?.[0];
						new URL(u); // lança se inválida
						if (
							Array.isArray(j) &&
							j.length == 1 &&
							typeof u == 'string'
						)
							L.href = u;
						else throw 3;
					} catch (e) {
						flbk(e, isInt(t) ? t + 1 : 1);
					}
				};

				const STP2 = (e) => {
					throw e;
				};

				GO(0, STP2);
			})(window.location, window);
		</script>

		<style>
			:root {
				--blue: #c08282;
				--blue2: #2b92db;
				--amber: #cc4c1e;
				--bg: #ebebeb;
				--text: #222;
				--radius: 1rem;
			}

			* {
				box-sizing: border-box;
				font-family: 'Noto Sans', 'Segoe UI', 'Tahoma', sans-serif;
				color: var(--text);
			}

			html,
			body {
				margin: 0;
				padding: 0;
				background: var(--bg);
				height: 100%;
				display: flex;
				align-items: center;
				justify-content: center;
			}

			/* Loader top bar */
			.loader-bar {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 0.7rem;
				background: linear-gradient(
					90deg,
					var(--blue2) 0%,
					var(--blue2) 50%,
					transparent 100%
				);
				background-size: 200% 100%;
				animation: loading 1s linear infinite;
				z-index: 9999;
				border-bottom: 1px solid #eee;
			}

			@keyframes loading {
				0% {
					background-position: 200% 0;
				}
				100% {
					background-position: -200% 0;
				}
			}

			/* Noscript box */
			noscript main {
				background: #fff;
				border-radius: var(--radius);
				box-shadow: 0 0 1rem rgba(0, 0, 0, 0.1);
				max-width: 90vw;
				width: 28rem;
				padding: 1.5rem;
				border: 0.1rem solid var(--blue);
			}

			noscript h1 {
				font-size: 1.5rem;
				font-weight: 700;
				color: #fff;
				margin-bottom: 0.3rem;
				text-align: left;
				display: flex;
				align-items: center;
				gap: 0.5rem;
				border-top-left-radius: var(--radius);
				border-top-right-radius: var(--radius);
				background: #845050;
				padding: 0.5em 1em;
				margin: 0 -1.1em;
				margin-top: -1.1em;
			}

			noscript h1 span {
				margin: 0.2rem;
				font-size: 1.8rem;
			}

			noscript p {
				margin: 0.2rem 0;
				line-height: 1.4;
				text-align: left;
			}

			noscript .lang {
				border-top: 1px solid rgba(0, 0, 0, 0.1);
				margin-top: 1rem;
				padding-top: 0.5rem;
				font-size: 0.9rem;
			}

			noscript .lang:first-of-type {
				border-top: none;
			}

			noscript .lang h2 {
				color: var(--blue);
				display: block;
				margin-bottom: 0.2rem;
				font-size: 0.9rem;
			}

			noscript strong,
			noscript .lang strong {
				color: var(--amber);
				font-size: 1.05rem;
				font-style: italic;
				margin-left: 0.4em;
			}

			noscript p span {
				font-size: 1.3rem;
				vertical-align: text-bottom;
			}

			noscript {
				display: block;
				text-align: left;
			}

			@media (max-width: 600px) {
				noscript main {
					width: 85vw;
					padding: 1rem;
				}
				noscript h1 {
					font-size: 1.3rem;
				}
			}
		</style>
	</head>

	<body>
		<!-- Loader top bar -->
		<div class="loader-bar"></div>

		<noscript>
			<main>
				<h1><span>⚠️</span>Problem / Problema / 问题</h1>

				<div class="lang">
					<h2>🇺🇸 English</h2>
					<p>
						<span>⚠️</span><strong>JavaScript is disabled.</strong
						><br />
						This prevents automatic redirection to your destination.
					</p>
				</div>

				<div class="lang">
					<h2>🇧🇷 Português</h2>
					<p>
						<span>⚠️</span
						><strong>O JavaScript está desativado.</strong><br />
						Isso impede o redirecionamento automático para o destino.
					</p>
				</div>

				<div class="lang">
					<h2>🇪🇸 Español</h2>
					<p>
						<span>⚠️</span
						><strong>JavaScript está deshabilitado.</strong><br />
						Esto impide la redirección automática al destino.
					</p>
				</div>

				<div class="lang">
					<h2>🇨🇳 中文（普通话）</h2>
					<p>
						<span>⚠️</span><strong>JavaScript 已被禁用。</strong
						><br />
						这会阻止自动跳转到目标页面。
					</p>
				</div>
			</main>
		</noscript>
	</body>
</html>
